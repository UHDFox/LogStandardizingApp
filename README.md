# LogStandardizingApp

Тестовое задание на вакансию "C# Developer" компании "Клеверенс Софт". 
Проект представляет собой консольное приложение для стандартизации лог-файлов, содержащих записи в разных форматах. Приложение преобразует записи к единому формату и сохраняет результат. Ошибки в логах регистрируются в отдельном файле

## Возможности

- Чтение лог-файлов со смешанными форматами
- Парсинг и стандартизация записей
- Обработка невалидных записей (запись в отдельный файл)
- Конвертация форматов дат и уровней логирования
- Сохранение оригинального содержания сообщений

## Форматы входных данных

### Формат 1
Структура:  
`10.03.2025 15:14:49.523 INFORMATION Версия программы: '3.4.0.48729'`

Пример:
- Дата: 10.03.2025
- Время: 15:14:49.523
- Уровень логирования: INFORMATION
- Сообщение: Версия программы: '3.4.0.48729'

### Формат 2
Структура:  
`2025-03-10 15:14:51.5882| INFO|11|MobileComputer.GetDeviceId| Код устройства: '@MINDEO-M40-D-410244015546'`

Пример:
- Дата: 2025-03-10
- Время: 15:14:51.5882
- Уровень логирования: INFO
- Вызвавший метод: MobileComputer.GetDeviceId
- Сообщение: Код устройства: '@MINDEO-M40-D-410244015546'

## Выходной формат

Структура:
1. Дата (в формате YYYY-MM-DD)
2. Время (в оригинальном формате)
3. Уровень логирования (приведенный к стандартным значениям)
4. Вызвавший метод (DEFAULT если отсутствует)
5. Сообщение (в оригинальном формате)

##№ Пример вывода

Стандартизированная запись:  
`2025-03-10 15:14:49.523 INFO DEFAULT Версия программы: '3.4.0.48729'`

С указанием метода:  
`2025-03-10 15:14:51.5882 INFO MobileComputer.GetDeviceId Код устройства: '@MINDEO-M40-D-410244015546'`

### Преобразование уровней логирования:
- INFORMATION → INFO
- WARNING → WARN


## Развертывание

#### 1. Клонирование репозитория

Сначала клонируйте репозиторий на вашу машину с помощью следующей команды:

```bash
git clone https://github.com/UHDFox/LogStandardizingApp.git
cd LogStandardizingApp
```

#### 2. Установка зависимостей
Для работы с проектом необходимо иметь установленную версию .NET 7.0 или выше.

В IDE выполните 
```
dotnet restore
```

#### 3. Сборка проекта

Используйте команду 
```
dotnet build
```

#### 4. Запуск проекта и доступ
Проект запускается при помощи команды
```
dotnet run --project "LogStandardizingApp"
```


## Использование

1. Поместите входные логи в файл `inputLogs.txt`
2. Запустите приложение
3. Стандартизированные логи будут выведены в консоль
4. Невалидные записи будут записаны в `problems.txt`

## Структура кода

### LogHandler.cs
Обрабатывает все операции с логами, включая:
- Чтение лог-файлов
- Парсинг данных
- Конвертацию форматов дат
- Стандартизацию уровней логирования
- Формирование итогового вывода

## Методы

### LogHandler
- `ReadLog(string filePath)`: Чтение содержимого лог-файла
- `ParseLogData(string fileData)`: Парсинг сырых данных в структурированный формат
- `ConfigureLog(List<Dictionary<string, string>> logs)`: Преобразование распарсенных логов в стандартный формат
- `ConvertTimeFormat(string nonFormatDate)`: Конвертация дат из DD.MM.YYYY в YYYY-MM-DD


## Требования

- .NET Core/.NET 5+
- Входной файл логов в указанных форматах

## Примечания

- Невалидные записи сохраняются в `problems.txt` в оригинальном формате
- Если метод не указан, используется значение "DEFAULT"
